
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>压力恢复试井智能分析</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        accent: '#FF7D00',
                        neutral: '#F5F7FA',
                        dark: '#1D2129',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-shadow {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            }
            .input-focus {
                @apply focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-dark font-sans">
    <!-- 页面头部 -->
    <header class="bg-white shadow-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-line-chart text-primary text-2xl"></i>
                <h1 class="text-xl md:text-2xl font-bold text-primary">压力恢复试井智能分析</h1>
            </div>
            <button id="calculateBtn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-all duration-300 flex items-center">
                <i class="fa fa-calculator mr-2"></i>
                <span>开始分析</span>
            </button>
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="container mx-auto px-4 py-6">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- 左侧参数输入区 -->
            <div class="lg:col-span-1 space-y-6">
                <!-- 基础油藏参数卡片 -->
                <div class="bg-white rounded-xl p-5 card-shadow transition-all duration-300 hover:shadow-lg">
                    <h2 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-cogs text-primary mr-2"></i>
                        基础油藏参数
                    </h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">粘度 (μ), mPa·s</label>
                            <input type="number" id="mu" value="0.8" step="0.01" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">油层有效厚度 (h), m</label>
                            <input type="number" id="h" value="4.572" step="0.001" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">井筒半径 (rw), cm</label>
                            <input type="number" id="rw" value="10.2" step="0.1" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">综合压缩系数 (Ct), MPa⁻¹</label>
                            <input type="number" id="Ct" value="0.002177" step="0.000001" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">孔隙度 (phi)</label>
                            <input type="number" id="phi" value="0.25" step="0.01" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">体积系数 (B)</label>
                            <input type="number" id="B" value="1.25" step="0.01" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">累积产油量 (Np), m³</label>
                            <input type="number" id="Np" value="198.75" step="0.01" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">产量 (Q), m³/d</label>
                            <input type="number" id="Q" value="19.88" step="0.01" 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
                        </div>
                    </div>
                </div>

                <!-- 压力恢复数据卡片 -->
                <div class="bg-white rounded-xl p-5 card-shadow transition-all duration-300 hover:shadow-lg">
                    <h2 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-database text-primary mr-2"></i>
                        压力恢复数据
                    </h2>
                    
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-1">
                            <label class="block text-sm font-medium text-gray-700">关井时间 (Δt), h</label>
                        </div>
                        <textarea id="dtData" rows="4" 
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">0, 2, 3, 4, 5, 8, 10, 12, 19, 24, 36</textarea>
                        <p class="text-xs text-gray-500 mt-1">请输入逗号分隔的数值，可直接添加或删除数据</p>
                    </div>
                    
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-1">
                            <label class="block text-sm font-medium text-gray-700">井底恢复压力 (p_ws), MPa</label>
                        </div>
                        <textarea id="pwsData" rows="4" 
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">9.536, 10.542, 10.576, 10.597, 10.611, 10.652, 10.672, 10.686, 10.721, 10.742, 10.769</textarea>
                        <p class="text-xs text-gray-500 mt-1">请输入逗号分隔的数值，与关井时间数据一一对应</p>
                    </div>

                    <!-- 压力查询区域 -->
                    <div class="border-t border-gray-200 pt-4">
                        <h3 class="text-md font-medium mb-3 flex items-center">
                            <i class="fa fa-search text-primary mr-2"></i>
                            压力查询
                        </h3>
                        <div class="flex space-x-2">
                            <input type="number" id="queryDt" placeholder="输入关井时间 (h)" step="0.1"
                                class="flex-1 px-3 py-2 border border-gray-300 rounded-lg input-focus">
                            <button id="queryBtn" class="bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-lg transition-all duration-300">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                        <div id="queryResult" class="mt-3 p-3 rounded-lg hidden">
                            <p class="text-sm font-medium" id="queryResultText"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧结果展示区 -->
            <div class="lg:col-span-2 space-y-6">
                <!-- 图表展示 -->
                <div class="bg-white rounded-xl p-5 card-shadow transition-all duration-300 hover:shadow-lg">
                    <h2 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-area-chart text-primary mr-2"></i>
                        压力恢复分析曲线
                    </h2>
                    <div class="h-[400px]">
                        <canvas id="semilogChart"></canvas>
                    </div>
                    <div id="analysisRationale" class="mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-800">
                        分析依据：请点击"开始分析"按钮查看结果
                    </div>
                </div>

                <!-- 参数结果表格 -->
                <div class="bg-white rounded-xl p-5 card-shadow transition-all duration-300 hover:shadow-lg">
                    <h2 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-table text-primary mr-2"></i>
                        分析结果
                    </h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr>
                                    <th class="px-4 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">参数名称</th>
                                    <th class="px-4 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">数值</th>
                                    <th class="px-4 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">单位</th>
                                </tr>
                            </thead>
                            <tbody id="resultsTable" class="bg-white divide-y divide-gray-200">
                                <!-- 结果将通过JavaScript动态填充 -->
                                <tr>
                                    <td colspan="3" class="px-4 py-8 text-center text-gray-500">请点击"开始分析"按钮查看结果</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 回归方程信息 -->
                <div id="regressionEquation" class="bg-white rounded-xl p-5 card-shadow transition-all duration-300 hover:shadow-lg hidden">
                    <h2 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-calculator text-primary mr-2"></i>
                        回归方程
                    </h2>
                    <div class="p-4 bg-gray-50 rounded-lg text-center text-lg font-medium" id="equationContent">
                        <!-- 回归方程将通过JavaScript动态填充 -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white mt-8 py-6 border-t border-gray-200">
        <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
            <p>压力恢复试井智能分析工具 &copy; 2023</p>
        </div>
    </footer>

    <script>
        // 全局变量存储图表实例和分析结果
        let semilogChart = null;
        let analysisResults = null; // 用于存储分析结果供查询使用
        let queryPoint = null; // 存储当前查询点
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 绑定计算按钮事件
            document.getElementById('calculateBtn').addEventListener('click', performAnalysis);
            // 绑定查询按钮事件
            document.getElementById('queryBtn').addEventListener('click', queryPressure);
            // 支持回车键查询
            document.getElementById('queryDt').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    queryPressure();
                }
            });
        });
        
        // 执行压力恢复分析
        function performAnalysis() {
            // 重置查询点
            queryPoint = null;
            
            // 读取用户输入的参数
            const params = {
                mu: parseFloat(document.getElementById('mu').value),
                h: parseFloat(document.getElementById('h').value),
                rw: parseFloat(document.getElementById('rw').value),
                Ct: parseFloat(document.getElementById('Ct').value),
                phi: parseFloat(document.getElementById('phi').value),
                B: parseFloat(document.getElementById('B').value),
                Np: parseFloat(document.getElementById('Np').value),
                Q: parseFloat(document.getElementById('Q').value),
                dt: parseInputArray(document.getElementById('dtData').value),
                p_ws: parseInputArray(document.getElementById('pwsData').value)
            };
            
            // 验证输入数据
            if (!validateInput(params)) {
                return;
            }
            
            // 执行分析步骤
            // 计算折算生产时间 tp
            const tp = (params.Np / params.Q) * 24; // 单位: 小时
            
            // 计算横坐标 x = Δt/(tp+Δt) (排除Δt=0点)
            const idx = params.dt.map(val => val > 0);
            const x = [];
            const ln_x = [];
            const p_ws_reg = [];
            
            for (let i = 0; i < params.dt.length; i++) {
                if (idx[i]) {
                    const xi = params.dt[i] / (tp + params.dt[i]);
                    x.push(xi);
                    ln_x.push(Math.log(xi));
                    p_ws_reg.push(params.p_ws[i]);
                }
            }
            
            // 线性回归: p_ws = a*ln(x) + b
            const [a, b] = performRegression(ln_x, p_ws_reg);
            
            // 计算关键参数
            const m = a * 2.302585; // 半对数直线斜率
            const K = 2.1208 * params.Q * params.B * params.mu / (params.h * m); // 渗透率 (10^{-3} μm²)
            const p_wf = params.p_ws[0]; // 关井前井底压力 (Δt=0)
            const log_term = Math.log10(K / (params.phi * params.mu * params.Ct * 1000 * params.rw * params.rw)); // 对数项
            
            // 计算 p_ws(1h)
            const x_1h = 1 / (tp + 1); // Δt=1h 时的x值
            const p_ws_1h = b + a * Math.log(x_1h); 
            
            // 计算表皮系数 S
            const S = 1.152 * ((p_ws_1h - p_wf) / m - log_term - 1.9077);
            
            // 保存分析结果供查询使用
            analysisResults = {
                a, b, tp,
                params: { ...params } // 保存参数副本
            };
            
            // 显示结果
            displayResults(
                params.dt, params.p_ws, x, ln_x, p_ws_reg,
                a, b, m, K, S, tp, p_ws_1h, p_wf
            );
        }
        
        // 查询关井时间对应的井底压力并在图表上标记
        function queryPressure() {
            // 检查是否已进行分析
            if (!analysisResults) {
                showQueryResult("请先点击'开始分析'按钮完成分析", false);
                return;
            }
            
            // 获取用户输入的关井时间
            const dtInput = document.getElementById('queryDt');
            const dt = parseFloat(dtInput.value);
            
            // 验证输入
            if (isNaN(dt) || dt < 0) {
                showQueryResult("请输入有效的关井时间（非负数值）", false);
                return;
            }
            
            // 使用回归方程计算对应压力
            const { a, b, tp } = analysisResults;
            const x = dt / (tp + dt);
            const pressure = b + a * Math.log(x);
            
            // 保存查询点数据
            queryPoint = {
                dt: dt,
                x: x,
                pressure: pressure
            };
            
            // 更新图表显示查询点
            updateChartWithQueryPoint();
            
            // 显示查询结果
            showQueryResult(`关井时间 ${dt} h 对应的井底压力为: <strong>${pressure.toFixed(4)} MPa</strong>`, true);
        }
        
        // 在图表上更新查询点标记
        function updateChartWithQueryPoint() {
            if (!semilogChart || !queryPoint) return;
            
            // 检查是否已有查询点数据集，没有则创建
            if (semilogChart.data.datasets.length < 3) {
                semilogChart.data.datasets.push({
                    label: '查询点',
                    data: [],
                    backgroundColor: 'rgba(255, 125, 0, 1)', // 橙色
                    borderColor: 'rgba(255, 125, 0, 1)',
                    borderWidth: 2,
                    pointRadius: 8,
                    pointHoverRadius: 10,
                    showLine: false,
                    pointStyle: 'star' // 使用星形标记查询点
                });
            }
            
            // 更新查询点数据
            semilogChart.data.datasets[2].data = [{
                x: queryPoint.x,
                y: queryPoint.pressure
            }];
            
            // 更新图表
            semilogChart.update();
        }
        
        // 显示查询结果
        function showQueryResult(text, isSuccess) {
            const resultElement = document.getElementById('queryResult');
            const resultTextElement = document.getElementById('queryResultText');
            
            // 设置结果文本和样式
            resultTextElement.innerHTML = text;
            resultElement.className = `mt-3 p-3 rounded-lg ${isSuccess ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}`;
            resultElement.classList.remove('hidden');
        }
        
        // 解析输入的数组字符串
        function parseInputArray(inputStr) {
            return inputStr.split(',').map(item => parseFloat(item.trim())).filter(num => !isNaN(num));
        }
        
        // 验证输入数据
        function validateInput(params) {
            // 检查基本参数是否有效
            const requiredParams = ['mu', 'h', 'rw', 'Ct', 'phi', 'B', 'Np', 'Q'];
            for (const param of requiredParams) {
                if (isNaN(params[param]) || params[param] <= 0) {
                    alert(`参数 ${param} 输入无效，请检查`);
                    return false;
                }
            }
            
            // 检查时间和压力数据
            if (params.dt.length === 0 || params.p_ws.length === 0) {
                alert('请输入关井时间和恢复压力数据');
                return false;
            }
            
            if (params.dt.length !== params.p_ws.length) {
                alert('关井时间和恢复压力数据的数量必须一致');
                return false;
            }
            
            // 检查是否包含Δt=0的数据点
            if (!params.dt.includes(0)) {
                alert('关井时间数据必须包含0值（表示关井前的时刻）');
                return false;
            }
            
            return true;
        }
        
        // 执行回归分析
        function performRegression(x, y) {
            // 线性回归: y = a*x + b
            let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0;
            const n = x.length;
            
            for (let i = 0; i < n; i++) {
                sumX += x[i];
                sumY += y[i];
                sumXY += x[i] * y[i];
                sumX2 += x[i] * x[i];
            }
            
            // 计算系数
            const a = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
            const b = (sumY - a * sumX) / n;
            
            return [a, b];
        }
        
        // 显示分析结果
        function displayResults(dt, p_ws, x, ln_x, p_ws_reg, a, b, m, K, S, tp, p_ws_1h, p_wf) {
            // 更新分析依据
            document.getElementById('analysisRationale').textContent = 
                `分析依据：采用半对数坐标回归模型 p_ws = a*ln(x) + b，其中 x = Δt/(tp+Δt)，tp = ${tp.toFixed(2)} h`;
            
            // 绘制图表
            plotChart(x, ln_x, p_ws_reg, a, b);
            
            // 如果有查询点，更新图表显示
            if (queryPoint) {
                updateChartWithQueryPoint();
            }
            
            // 更新结果表格
            updateResultsTable(a, b, m, K, S, tp, p_ws_1h, p_wf);
            
            // 显示回归方程
            document.getElementById('equationContent').textContent = 
                `p_ws = ${a.toFixed(4)} × ln(x) + ${b.toFixed(4)}`;
            document.getElementById('regressionEquation').classList.remove('hidden');
        }
        
        // 绘制压力恢复曲线图表
        function plotChart(x, ln_x, p_ws_reg, a, b) {
            // 生成拟合曲线数据
            const ln_x_min = Math.min(...ln_x);
            const ln_x_max = Math.max(...ln_x);
            const ln_x_fit = [];
            
            for (let i = 0; i < 100; i++) {
                ln_x_fit.push(ln_x_min + (ln_x_max - ln_x_min) * i / 99);
            }
            
            // 计算拟合值
            const p_ws_fit = ln_x_fit.map(val => b + a * val);
            const x_fit = ln_x_fit.map(val => Math.exp(val)); // x = exp(ln_x)
            
            // 计算10的幂级数刻度
            const xValues = [...x, ...x_fit];
            const minX = Math.min(...xValues);
            const maxX = Math.max(...xValues);
            const minExp = Math.floor(Math.log10(minX));
            const maxExp = Math.ceil(Math.log10(maxX));
            
            // 生成10的幂级数刻度
            const ticks = [];
            for (let exp = minExp; exp <= maxExp; exp++) {
                ticks.push(Math.pow(10, exp));
            }
            
            // 绘制半对数坐标图
            const semilogCtx = document.getElementById('semilogChart').getContext('2d');
            if (semilogChart) {
                semilogChart.destroy();
            }
            
            // 准备数据集，包括查询点数据集（可能为空）
            const datasets = [
                // 实测数据
                {
                    label: '实测数据',
                    data: x.map((val, i) => ({x: val, y: p_ws_reg[i]})),
                    backgroundColor: 'rgba(0, 0, 255, 1)',
                    borderColor: 'rgba(0, 0, 255, 1)',
                    borderWidth: 1,
                    pointRadius: 5,
                    pointHoverRadius: 7,
                    showLine: false
                },
                // 回归曲线
                {
                    label: '回归曲线',
                    data: x_fit.map((val, i) => ({x: val, y: p_ws_fit[i]})),
                    backgroundColor: 'rgba(255, 0, 0, 0)',
                    borderColor: 'rgba(255, 0, 0, 1)',
                    borderWidth: 2,
                    pointRadius: 0,
                    tension: 0.1
                }
            ];
            
            // 如果有查询点，添加查询点数据集
            if (queryPoint) {
                datasets.push({
                    label: '查询点',
                    data: [{x: queryPoint.x, y: queryPoint.pressure}],
                    backgroundColor: 'rgba(255, 125, 0, 1)', // 橙色
                    borderColor: 'rgba(255, 125, 0, 1)',
                    borderWidth: 2,
                    pointRadius: 8,
                    pointHoverRadius: 10,
                    showLine: false,
                    pointStyle: 'star' // 使用星形标记查询点
                });
            }
            
            semilogChart = new Chart(semilogCtx, {
                type: 'line',
                data: { datasets },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Δt/(tp+Δt)'
                            },
                            ticks: {
                                // 使用10的幂级数作为刻度
                                callback: function(value) {
                                    const exp = Math.log10(value);
                                    if (exp === Math.floor(exp)) {
                                        return '10^' + exp;
                                    }
                                    return ''; // 只显示10的幂级数刻度
                                },
                                stepSize: 1,
                                autoSkip: false
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '井底恢复压力 p_ws (MPa)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        title: {
                            display: true,
                            text: '半对数坐标回归曲线'
                        },
                        tooltip: {
                            callbacks: {
                                // 为查询点添加特殊提示
                                label: function(context) {
                                    if (context.dataset.label === '查询点' && queryPoint) {
                                        return [
                                            `关井时间: ${queryPoint.dt} h`,
                                            `井底压力: ${queryPoint.pressure.toFixed(4)} MPa`
                                        ];
                                    }
                                    return context.dataset.label + ': ' + context.raw.y.toFixed(4) + ' MPa';
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // 更新结果表格
        function updateResultsTable(a, b, m, K, S, tp, p_ws_1h, p_wf) {
            const resultsTable = document.getElementById('resultsTable');
            
            // 更新表格内容
            resultsTable.innerHTML = `
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">折算生产时间 (tp)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium">${tp.toFixed(2)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">h</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">回归方程斜率 (a)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium">${a.toFixed(4)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">MPa</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">回归方程截距 (b)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium">${b.toFixed(4)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">MPa</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">半对数斜率 (m)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium">${m.toFixed(4)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">MPa</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">地层渗透率 (K)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium text-primary">${K.toFixed(2)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">×10⁻³μm²</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">表皮系数 (S)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium text-primary">${S.toFixed(2)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">-</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">关井前井底压力 (p_wf)</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium">${p_wf.toFixed(3)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">MPa</td>
                </tr>
                <tr>
                    <td class="px-4 py-3 whitespace-nowrap">关井1h压力 (p_ws(1h))</td>
                    <td class="px-4 py-3 whitespace-nowrap font-medium">${p_ws_1h.toFixed(3)}</td>
                    <td class="px-4 py-3 whitespace-nowrap">MPa</td>
                </tr>
            `;
        }
    </script>
</body>
</html>
